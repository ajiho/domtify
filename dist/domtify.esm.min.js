const t=t=>t instanceof Element,e=t=>{if("object"!=typeof t||null===t||t instanceof Array)return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e},n=t=>"string"==typeof t,r=t=>t.trim().startsWith("<"),s=t=>"function"==typeof t,i=(t,e)=>t instanceof e,l=t=>{const e=new Map;return(Array.isArray(t)?t:[t]).flat(1/0).flatMap((t=>t instanceof Domtify?t.result:t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):t)).filter((t=>t instanceof Element?!e.has(t)&&(e.set(t,!0),!0):null!==t&&"number"!=typeof t))};let o=class t{get length(){return this.result.length}constructor(e,s){if(this.result=[],e instanceof t)return e;if(n(e))if(r(e)){const t=document.createElement("div");t.insertAdjacentHTML("beforeend",e),this.result=[t.firstChild]}else this.result=Array.from((s||document).querySelectorAll(e));else i(e,NodeList)||i(e,HTMLCollection)?this.result=Array.from(e):Array.isArray(e)?this.result=e:this.result=e?[e]:[]}};const a=o.prototype,u=(t,e)=>new o(t,e);u.fn=u.prototype=a,a.each=function(t){return this.result.forEach((function(e,n,r){t.call(e,e,n,r)})),this},a.addClass=function(e){const r=t=>{return e=t,Array.isArray(e)?t:n(t)?t.split(" "):[];var e};let i=[];return this.each(((n,l)=>{var o;i=s(e)?r(e.call(n,l,t(n)?n.classList.value:n)):r(e),null==n||null==(o=n.classList)||o.add(...i)}))},a.map=function(t){return this.result=this.result.map(((e,n,r)=>t.call(e,e,n,r))),this},a.filter=function(t){let e=e=>null==e?void 0:e.matches(t||"*");return"function"==typeof t&&(e=t),t instanceof u&&(e=e=>-1!==t.result.indexOf(e)),this.result=this.result.filter(((t,n,r)=>e.call(t,t,n,r))),this},a.eq=function(t){return this.result=[this.result.at(t)],this},a.first=function(){return this.eq(0)},a.last=function(){return this.eq(-1)},a.get=function(t){return Number.isInteger(t)?this.result.at(t):this.result},a.append=function(...e){let i=e[0],o=s(i),a={};this.each(((t,e)=>{o&&(a[e]=l(i.call(t,e,t.textContent)))})),Object.freeze(a);let u=l(e),c=!1;return this.each(((e,s)=>{o&&(u=a[s]),c=s===this.length-1,u.forEach((s=>{n(s)?r(s)?e.insertAdjacentHTML("beforeend",s):e.insertAdjacentText("beforeend",s):(t(s)||s instanceof Text)&&(!0===c?e.appendChild(s):e.appendChild(s.cloneNode(!0)))}))}))},u.extend=function(){let t,n,r,s,i,l,o=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"!=typeof o&&"function"!=typeof o&&(o={}),a===u&&(o=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(n in t)s=t[n],"__proto__"!==n&&o!==s&&(c&&s&&(e(s)||(i=Array.isArray(s)))?(r=o[n],l=i&&!Array.isArray(r)?[]:i||e(r)?r:{},i=!1,o[n]=this.extend(c,l,s)):o[n]=s);return o},a.clone=function(t=!1){return this.map((e=>null==e?void 0:e.cloneNode(t)))},a.add=function(t,e){return u((n=[...this.get(),...u(t,e).get()],[...new Set(n)]));var n};export{u as default};
//# sourceMappingURL=domtify.esm.min.js.map
