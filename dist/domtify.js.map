{"version":3,"file":"domtify.js","sources":["../src/utils/index.js","../src/core.js","../src/ext/each.js","../src/ext/addClass.js","../src/ext/map.js","../src/ext/filter.js","../src/ext/eq.js","../src/ext/first.js","../src/ext/last.js","../src/ext/get.js","../src/utils/sanitize.js","../src/utils/domManipulation.js","../src/ext/append.js","../src/ext/extend.js","../src/ext/clone.js","../src/ext/add.js","../src/ext/is.js","../src/ext/prepend.js","../src/ext/after.js","../src/ext/before.js","../src/ext/replaceWith.js","../src/utils/isNeedPx.js","../src/utils/camelCase.js","../src/ext/css.js","../src/utils/selectSibling.js","../src/utils/traverseFilter.js","../src/ext/next.js","../src/utils/selectElementsByProp.js","../src/ext/nextAll.js","../src/ext/nextUntil.js","../src/ext/parents.js","../src/ext/parentsUntil.js"],"sourcesContent":["const isElem = (el) => el instanceof Element\r\n\r\n//用于判断一个对象是否是纯粹的 JavaScript 对象（即不是 DOM 对象、函数、数组等）。具体作用是检查对象是否通过对象字面量或 new Object() 创建，且其原型链上只包含标准的 Object 原型\r\nconst isPlainObject = (obj) => {\r\n  if (typeof obj !== 'object' || obj === null || obj instanceof Array) {\r\n    return false\r\n  }\r\n  const prototype = Object.getPrototypeOf(obj)\r\n  return prototype === Object.prototype || prototype === null\r\n}\r\n\r\nconst isString = (value) => {\r\n  return typeof value === 'string'\r\n}\r\n\r\nconst isNumber = (value) => {\r\n  return typeof value === 'number'\r\n}\r\n\r\nconst isHtmlString = (str) => {\r\n  return str.trim().startsWith('<')\r\n}\r\n\r\nconst isFunction = (value) => {\r\n  return typeof value === 'function'\r\n}\r\n\r\nconst isArray = (value) => {\r\n  return Array.isArray(value)\r\n}\r\n\r\nconst isInstance = (obj, cls) => {\r\n  return obj instanceof cls\r\n}\r\n\r\nconst arrUnique = (arr) => [...new Set(arr)]\r\n\r\n\r\nconst isInPage = (node) => {\r\n  return node === document.body ? false : document.body.contains(node)\r\n}\r\n\r\nconst createElementHTML = (htmlStr) => {\r\n  const div = document.createElement('div')\r\n  div.innerHTML = htmlStr\r\n  return div.firstElementChild\r\n}\r\n\r\nexport {\r\n  isInPage,\r\n  isArray,\r\n  arrUnique,\r\n  isInstance,\r\n  isFunction,\r\n  isString,\r\n  isNumber,\r\n  isHtmlString,\r\n  isElem,\r\n  isPlainObject,\r\n  createElementHTML\r\n}\r\n","import { isString, isHtmlString, isInstance } from './utils'\r\n\r\nclass Domtify {\r\n  result = []\r\n\r\n  get length() {\r\n    return this.result.length\r\n  }\r\n\r\n  constructor(selector, context) {\r\n    // 如果已经是实例，无需处理直接返回\r\n    if (selector instanceof Domtify) {\r\n      return selector\r\n    }\r\n    // 字符串处理\r\n    else if (isString(selector)) {\r\n      if (isHtmlString(selector)) {\r\n        //html字符串就直接创建\r\n        const div = document.createElement('div')\r\n        div.insertAdjacentHTML('beforeend', selector)\r\n        this.result = [div.firstChild]\r\n      } else {\r\n        //选择器字符串\r\n        this.result = Array.from(\r\n          (context || document).querySelectorAll(selector),\r\n        )\r\n      }\r\n    } else if (\r\n      isInstance(selector, NodeList) ||\r\n      isInstance(selector, HTMLCollection)\r\n    ) {\r\n      //是直接传递的NodeList或者HTMLCollection集合\r\n      this.result = Array.from(selector)\r\n    } else if (Array.isArray(selector)) {\r\n      //是数组直接替换\r\n      this.result = selector\r\n    } else {\r\n      this.result = selector ? [selector] : []\r\n    }\r\n  }\r\n}\r\n\r\n//类的原型\r\nconst fn = Domtify.prototype\r\n\r\n//构造函数domtify\r\nconst domtify = (selector, context) => new Domtify(selector, context)\r\n\r\n//把类原型赋值给构造函数的原型，最后再赋值给构造函数domtify的fn属性，在js中，函数也是一种特殊的对象，因此也可以拥有属性。\r\ndomtify.fn = domtify.prototype = fn\r\n\r\nexport { domtify, domtify as d, fn, Domtify }\r\n","import { fn } from '../core'\r\n\r\nfn.each = function (callback) {\r\n  this.result.forEach(function (element, index, array) {\r\n    callback.call(element, element, index, array)\r\n  })\r\n  return this\r\n}\r\n","import { fn } from '../core'\r\nimport { isArray, isFunction, isString, isElem } from '../utils'\r\n\r\nimport './each'\r\n\r\nfn.addClass = function (className) {\r\n  const list = (res) =>\r\n    isArray(res) ? res : isString(res) ? res.split(' ') : []\r\n\r\n  let classList = []\r\n\r\n  return this.each((item, index) => {\r\n    // 处理函数返回值\r\n    if (isFunction(className)) {\r\n      classList = list(\r\n        className.call(item, index, isElem(item) ? item.classList.value : item),\r\n      )\r\n    } else {\r\n      classList = list(className)\r\n    }\r\n\r\n    item?.classList?.add(...classList)\r\n  })\r\n}\r\n","import { fn } from '../core'\r\n\r\nfn.map = function (callback) {\r\n  this.result = this.result.map((element, index, array) =>\r\n    callback.call(element, element, index, array),\r\n  )\r\n  return this\r\n}\r\n","import { fn, domtify } from '../core'\r\n\r\nfn.filter = function (selector) {\r\n  //默认是选择器\r\n  let callbackFn = (index, item) => item?.matches(selector || '*')\r\n\r\n  //函数\r\n  if (typeof selector === 'function') callbackFn = selector\r\n\r\n  //domtify实例\r\n  if (selector instanceof domtify) {\r\n    callbackFn = (index, item) => selector.result.indexOf(item) !== -1\r\n  }\r\n\r\n  //element元素\r\n  if (selector instanceof Element) {\r\n    callbackFn = (index, item) => this.result.indexOf(selector) !== -1\r\n  }\r\n\r\n  //调用数组原生的filter过滤\r\n  this.result = this.result.filter((item, index) =>\r\n    callbackFn.call(item, index, item),\r\n  )\r\n\r\n  return this\r\n}\r\n","import { fn } from '../core'\r\n\r\nfn.eq = function (index) {\r\n  this.result = [this.result.at(index)]\r\n  return this\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport './eq'\r\n\r\nfn.first = function () {\r\n  return this.eq(0)\r\n}\r\n","import { fn } from '../core'\r\nimport './eq'\r\n\r\nfn.last = function () {\r\n  return this.eq(-1)\r\n}\r\n","import { fn } from '../core'\r\n\r\nfn.get = function (index) {\r\n  return Number.isInteger(index) ? this.result.at(index) : this.result\r\n}\r\n","import { Domtify } from '../core'\r\n\r\n//参数消毒\r\nconst sanitize = (args) => {\r\n  const uniqueMap = new Map()\r\n  return (Array.isArray(args) ? args : [args]) //不是数组转换成数组\r\n    .flat(Infinity)\r\n    .flatMap((item) => {\r\n      if (item instanceof Domtify) {\r\n        return item.result\r\n      }\r\n      if (item instanceof NodeList || item instanceof HTMLCollection) {\r\n        return Array.from(item)\r\n      }\r\n      return item\r\n    })\r\n    .filter((item) => {\r\n      if (item instanceof Element) {\r\n        //不允许重复的Element\r\n        if (!uniqueMap.has(item)) {\r\n          uniqueMap.set(item, true)\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n      if (item === null || typeof item === 'number') {\r\n        //null也删除\r\n        return false\r\n      }\r\n      return true\r\n    })\r\n}\r\n\r\nexport default sanitize\r\n","import { isString, isHtmlString, isFunction, isElem, createElementHTML } from '.'\r\n\r\nimport sanitize from './sanitize'\r\nimport '../ext/each'\r\n\r\n\r\nconst Default = {\r\n  //是否反转参数\r\n  reverse: false,\r\n  //是否克隆\r\n  cloneNode: true,\r\n}\r\n\r\n\r\n\r\nexport const domManip = (domtifyObj, args, callback, options) => {\r\n  //参数合并\r\n  options = {\r\n    ...Default,\r\n    ...options,\r\n  }\r\n\r\n\r\n  //参数静态化不过不这样的话，如果是HTMLCollection如果动态添加后，在遍历的时候它数组长度会改变，遍历逻辑会错乱\r\n  let firstParam = args[0]\r\n  let firstParamIsFunction = isFunction(firstParam)\r\n  let fnResult = {}\r\n\r\n\r\n  if (firstParamIsFunction) {\r\n    domtifyObj.each((item, index) => {\r\n      fnResult[index] = sanitize(firstParam.call(item, index, item.textContent))\r\n    })\r\n  }\r\n\r\n  Object.freeze(fnResult) //冻结该对象防止被更改\r\n\r\n  let flatArgs = sanitize(args)\r\n  if (options.reverse) {\r\n    flatArgs = flatArgs.reverse()\r\n  }\r\n\r\n  let last = false\r\n  return domtifyObj.each((elem, index) => {\r\n    if (firstParamIsFunction) {\r\n      flatArgs = fnResult[index] //这里就表示直接取上面函数的静态化参数了\r\n      if (options.reverse) {\r\n        flatArgs = flatArgs.reverse()\r\n      }\r\n    }\r\n\r\n    last = index === domtifyObj.length - 1 ? true : false\r\n\r\n    //参数遍历\r\n    flatArgs.forEach((item) => {\r\n      //回调的参数\r\n      let node\r\n      //1.字符串\r\n      if (isString(item)) {\r\n        if (isHtmlString(item)) {\r\n          //创建dom\r\n          //htmlString\r\n          node = createElementHTML(item)\r\n        } else {\r\n          //textNode\r\n          node = document.createTextNode(item)\r\n        }\r\n      } else if (isElem(item) || item instanceof Text) {\r\n        //如果克隆选项启用，且是最后一个才进行克隆\r\n        node = options.cloneNode && !last ? item.cloneNode(true) : item\r\n      }\r\n      //调用方法\r\n      callback.call(elem, node)\r\n    })\r\n  })\r\n}\r\n","import { fn } from '../core'\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.append = function (...args) {\r\n  return domManip(this, args, function (node) {\r\n    this.appendChild(node)\r\n  })\r\n}\r\n","import { domtify } from '../core'\r\n\r\nimport { isPlainObject } from '../utils'\r\n\r\ndomtify.extend = function () {\r\n  let options,\r\n    name,\r\n    src,\r\n    copy,\r\n    copyIsArray,\r\n    clone,\r\n    target = arguments[0] || {}, //第一个参数\r\n    i = 1,\r\n    length = arguments.length,\r\n    deep = false\r\n\r\n  // 处理深度复制情况\r\n  if (typeof target === 'boolean') {\r\n    deep = target\r\n\r\n    // 跳过布尔值和目标\r\n    target = arguments[i] || {}\r\n    i++\r\n  }\r\n\r\n  // 当目标是字符串或其他东西时处理大小写（可能在深度复制中）\r\n  if (typeof target !== 'object' && typeof target !== 'function') {\r\n    target = {}\r\n  }\r\n\r\n  // 如果只传递一个参数，则扩展jQuery本身\r\n  if (i === length) {\r\n    target = this\r\n    i--\r\n  }\r\n\r\n  for (; i < length; i++) {\r\n    // 仅处理非null/未定义的值\r\n    if ((options = arguments[i]) != null) {\r\n      // 延伸基础对象\r\n      for (name in options) {\r\n        copy = options[name]\r\n        // 防止Object.prototype污染\r\n        // 防止无休止的循环\r\n        if (name === '__proto__' || target === copy) {\r\n          continue\r\n        }\r\n\r\n        // 如果我们正在合并普通对象或数组，则重复出现\r\n        if (\r\n          deep &&\r\n          copy &&\r\n          (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))\r\n        ) {\r\n          src = target[name]\r\n\r\n          // 确保源值的类型正确\r\n          if (copyIsArray && !Array.isArray(src)) {\r\n            clone = []\r\n          } else if (!copyIsArray && !isPlainObject(src)) {\r\n            clone = {}\r\n          } else {\r\n            clone = src\r\n          }\r\n          copyIsArray = false\r\n\r\n          // 从不移动原始对象，而是克隆它们\r\n          target[name] = this.extend(deep, clone, copy)\r\n\r\n          // 不要引入未定义的值\r\n          // } else if (copy !== undefined) {\r\n        } else {\r\n          target[name] = copy\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 返回修改后的对象\r\n  return target\r\n}\r\n","import { fn } from '../core'\r\nimport './each'\r\n\r\nfn.clone = function () {\r\n  return this.map((item) => item?.cloneNode(true))\r\n}\r\n","import { fn, domtify } from '../core'\r\nimport { arrUnique } from '../utils'\r\nimport './each'\r\nimport './get'\r\n\r\nfn.add = function (selector, context) {\r\n  return domtify(\r\n    arrUnique([...this.get(), ...domtify(selector, context).get()]),\r\n  )\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport './filter'\r\n\r\nfn.is = function (selector) {\r\n  return this.filter(selector).length > 0\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.prepend = function (...args) {\r\n  return domManip(\r\n    this,\r\n    args,\r\n    function (node) {\r\n      this.insertBefore(node, this.firstChild)\r\n    },\r\n    {\r\n      reverse: true,\r\n    },\r\n  )\r\n}\r\n","import { fn } from '../core'\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.after = function (...args) {\r\n  return domManip(\r\n    this,\r\n    args,\r\n    function (node) {\r\n      if (this.parentNode) {\r\n        this.parentNode.insertBefore(node, this.nextSibling)\r\n      }\r\n    },\r\n    {\r\n      reverse: true,\r\n    },\r\n  )\r\n}\r\n","import { fn } from '../core'\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.before = function (...args) {\r\n  return domManip(\r\n    this,\r\n    args,\r\n    function (node) {\r\n      if (this.parentNode) {\r\n        this.parentNode.insertBefore(node, this)\r\n      }\r\n    },\r\n    {\r\n      reverse: true,\r\n    },\r\n  )\r\n}\r\n","import { fn } from '../core'\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.replaceWith = function (...args) {\r\n  return domManip(\r\n    this,\r\n    args,\r\n    function (node) {\r\n      const parent = this.parentNode\r\n      if (parent) {\r\n        parent.replaceChild(node, this)\r\n      }\r\n    },\r\n    {\r\n      cloneNode: false,\r\n    },\r\n  )\r\n}\r\n","\nconst isNeedPx = (property) => {\n\treturn /^[a-z]/.test(property) &&\n\t\t/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/.test(property[0].toUpperCase() + property.slice(1));\n}\n\n\nexport default isNeedPx;","\r\n\r\n\r\nconst camelCase = (string) => {\r\n    return string.replace(/-([a-z])/g, (match, char) => {\r\n        return char.toUpperCase()\r\n    });\r\n}\r\n\r\nexport default camelCase;","import { fn } from '../core'\r\nimport { isString, isNumber, isFunction, isPlainObject } from '../utils/index'\r\nimport isNeedPx from '../utils/isNeedPx'\r\n\r\nimport camelCase from '../utils/camelCase'\r\n\r\n\r\n\r\n\r\n\r\nconst addPx = (property, value) => {\r\n\r\n    //数字，或者数字字符串\r\n    return ((isNumber(value) || /^\\d+$/.test(value)) && isNeedPx(camelCase(property))) ? value + 'px' : value\r\n}\r\n\r\n\r\n\r\nfn.css = function (property, value) {\r\n\r\n\r\n\r\n    //设置\r\n    if (isString(value) || isNumber(value)) {\r\n\r\n        return this.each((elem) => {\r\n\r\n            elem.style[property] = addPx(property, value);\r\n        })\r\n\r\n    }\r\n\r\n\r\n    //设置\r\n    if (isFunction(value)) {\r\n\r\n        return this.each((elem, index) => {\r\n            const oldValue = getComputedStyle(elem).getPropertyValue(property)\r\n            elem.style[property] = addPx(property, value.call(elem, index, oldValue))\r\n        })\r\n\r\n    }\r\n\r\n\r\n    //设置\r\n    if (isPlainObject(property)) {\r\n\r\n        return this.each((elem) => {\r\n\r\n            for (const [key, value] of Object.entries(property)) {\r\n\r\n                elem.style[key] = addPx(key, value);\r\n\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n}\r\n","import '../ext/each'\r\n\r\n\r\n\r\nconst selectSibling = (domtifyObj, direction) => {\r\n\r\n    let matched = [];\r\n\r\n    let prop = direction + \"ElementSibling\"\r\n\r\n    domtifyObj.each((elem) => {\r\n\r\n        let el = elem[prop]\r\n        if (el) {\r\n            matched.push(el)\r\n        }\r\n    })\r\n\r\n    return matched;\r\n\r\n\r\n}\r\n\r\nexport default selectSibling;","import { domtify } from '../core'\r\n\r\n\r\nimport { arrUnique } from '.';\r\n\r\nimport '../ext/filter'\r\nimport '../ext/get'\r\n\r\n\r\nconst traverseFilter = (arr, selector) => {\r\n\r\n    let matched = arr;\r\n\r\n\r\n    //选择器过滤\r\n    if (selector && typeof selector === \"string\") {\r\n\r\n        matched = domtify(matched).filter(selector).get();\r\n\r\n    }\r\n\r\n    //去重\r\n    if (matched.length > 1) {\r\n\r\n        matched = arrUnique(matched);\r\n    }\r\n\r\n    return domtify(matched)\r\n}\r\n\r\nexport default traverseFilter;\r\n\r\n","import { fn } from '../core'\r\n\r\nimport selectSibling from '../utils/selectSibling'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\nfn.next = function (selector) {\r\n    return traverseFilter(selectSibling(this, 'next'), selector);\r\n}\r\n\r\n\r\n","import { domtify } from '../core'\n\n\nimport '../ext/is'\nimport '../ext/each'\n\n\n\nconst selectElementsByProp = (domtifyObj, prop, until) => {\n\n\tlet matched = [];\n\n\tdomtifyObj.each(elem => {\n\n\t\twhile ((elem = elem[prop]) && elem.nodeType !== 9) {\n\n\t\t\tif (elem.nodeType === 1) {//1:表示是一个element元素https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeType#node.element_node\n\n\t\t\t\tif (until && domtify(elem).is(until)) break;\n\n\t\t\t\tmatched.push(elem);\n\n\t\t\t}\n\t\t}\n\t})\n\n\treturn matched;\n\n}\n\nexport default selectElementsByProp;\n\n","import { fn } from '../core'\r\nimport selectElementsByProp from '../utils/selectElementsByProp'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\n\r\nfn.nextAll = function (selector) {\r\n\r\n\r\n  return traverseFilter(selectElementsByProp(this, \"nextSibling\"), selector)\r\n\r\n\r\n}\r\n","import { fn } from '../core'\r\nimport selectElementsByProp from '../utils/selectElementsByProp'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\n\r\nfn.nextUntil = function (selector, filter) {\r\n\r\n    return traverseFilter(selectElementsByProp(this, \"nextSibling\", selector), filter)\r\n\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport selectElementsByProp from '../utils/selectElementsByProp'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\nfn.parents = function (selector) {\r\n\r\n    return traverseFilter(selectElementsByProp(this, 'parentNode'), selector)\r\n\r\n\r\n\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport selectElementsByProp from '../utils/selectElementsByProp'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\nfn.parentsUntil = function (selector, filter) {\r\n\r\n    return traverseFilter(selectElementsByProp(this, 'parentNode', selector), filter)\r\n\r\n}\r\n"],"names":["isElem","el","Element","isPlainObject","obj","Array","prototype","Object","getPrototypeOf","isString","value","isNumber","isHtmlString","str","trim","startsWith","isFunction","isArray","isInstance","cls","arrUnique","arr","Set","createElementHTML","htmlStr","div","document","createElement","innerHTML","firstElementChild","Domtify","length","result","constructor","selector","context","insertAdjacentHTML","firstChild","from","querySelectorAll","NodeList","HTMLCollection","fn","domtify","each","callback","forEach","element","index","array","call","addClass","className","list","res","split","classList","item","_item$classList","add","map","filter","callbackFn","matches","indexOf","eq","at","first","last","get","Number","isInteger","sanitize","args","uniqueMap","Map","flat","Infinity","flatMap","has","set","Default","reverse","cloneNode","domManip","domtifyObj","options","firstParam","firstParamIsFunction","fnResult","textContent","freeze","flatArgs","elem","node","createTextNode","Text","append","appendChild","extend","name","src","copy","copyIsArray","clone","target","arguments","i","deep","is","prepend","insertBefore","after","parentNode","nextSibling","before","replaceWith","parent","replaceChild","isNeedPx","property","test","toUpperCase","slice","camelCase","string","replace","match","char","addPx","css","style","oldValue","getComputedStyle","getPropertyValue","key","entries","selectSibling","direction","matched","prop","push","traverseFilter","next","selectElementsByProp","until","nodeType","nextAll","nextUntil","parents","parentsUntil"],"mappings":"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"}