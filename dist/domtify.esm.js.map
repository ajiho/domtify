{"version":3,"file":"domtify.esm.js","sources":["../src/utils/index.js","../src/core.js","../src/ext/each.js","../src/ext/addClass.js","../src/ext/map.js","../src/ext/filter.js","../src/ext/eq.js","../src/ext/first.js","../src/ext/last.js","../src/ext/get.js","../src/utils/sanitize.js","../src/utils/domManipulation.js","../src/ext/append.js","../src/ext/extend.js","../src/ext/clone.js","../src/ext/add.js","../src/ext/is.js","../src/ext/prepend.js","../src/ext/after.js","../src/ext/before.js","../src/ext/replaceWith.js","../src/utils/isNeedPx.js","../src/utils/camelCase.js","../src/ext/css.js","../src/utils/selectSibling.js","../src/utils/traverseFilter.js","../src/ext/next.js","../src/utils/selectElementsByProp.js","../src/ext/nextAll.js","../src/ext/nextUntil.js","../src/ext/parents.js","../src/ext/parentsUntil.js"],"sourcesContent":["const isElem = (el) => el instanceof Element\r\n\r\n//用于判断一个对象是否是纯粹的 JavaScript 对象（即不是 DOM 对象、函数、数组等）。具体作用是检查对象是否通过对象字面量或 new Object() 创建，且其原型链上只包含标准的 Object 原型\r\nconst isPlainObject = (obj) => {\r\n  if (typeof obj !== 'object' || obj === null || obj instanceof Array) {\r\n    return false\r\n  }\r\n  const prototype = Object.getPrototypeOf(obj)\r\n  return prototype === Object.prototype || prototype === null\r\n}\r\n\r\nconst isString = (value) => {\r\n  return typeof value === 'string'\r\n}\r\n\r\nconst isNumber = (value) => {\r\n  return typeof value === 'number'\r\n}\r\n\r\nconst isHtmlString = (str) => {\r\n  return str.trim().startsWith('<')\r\n}\r\n\r\nconst isFunction = (value) => {\r\n  return typeof value === 'function'\r\n}\r\n\r\nconst isArray = (value) => {\r\n  return Array.isArray(value)\r\n}\r\n\r\nconst isInstance = (obj, cls) => {\r\n  return obj instanceof cls\r\n}\r\n\r\nconst arrUnique = (arr) => [...new Set(arr)]\r\n\r\n\r\nconst isInPage = (node) => {\r\n  return node === document.body ? false : document.body.contains(node)\r\n}\r\n\r\nconst createElementHTML = (htmlStr) => {\r\n  const div = document.createElement('div')\r\n  div.innerHTML = htmlStr\r\n  return div.firstElementChild\r\n}\r\n\r\nexport {\r\n  isInPage,\r\n  isArray,\r\n  arrUnique,\r\n  isInstance,\r\n  isFunction,\r\n  isString,\r\n  isNumber,\r\n  isHtmlString,\r\n  isElem,\r\n  isPlainObject,\r\n  createElementHTML\r\n}\r\n","import { isString, isHtmlString, isInstance } from './utils'\r\n\r\nclass Domtify {\r\n  result = []\r\n\r\n  get length() {\r\n    return this.result.length\r\n  }\r\n\r\n  constructor(selector, context) {\r\n    // 如果已经是实例，无需处理直接返回\r\n    if (selector instanceof Domtify) {\r\n      return selector\r\n    }\r\n    // 字符串处理\r\n    else if (isString(selector)) {\r\n      if (isHtmlString(selector)) {\r\n        //html字符串就直接创建\r\n        const div = document.createElement('div')\r\n        div.insertAdjacentHTML('beforeend', selector)\r\n        this.result = [div.firstChild]\r\n      } else {\r\n        //选择器字符串\r\n        this.result = Array.from(\r\n          (context || document).querySelectorAll(selector),\r\n        )\r\n      }\r\n    } else if (\r\n      isInstance(selector, NodeList) ||\r\n      isInstance(selector, HTMLCollection)\r\n    ) {\r\n      //是直接传递的NodeList或者HTMLCollection集合\r\n      this.result = Array.from(selector)\r\n    } else if (Array.isArray(selector)) {\r\n      //是数组直接替换\r\n      this.result = selector\r\n    } else {\r\n      this.result = selector ? [selector] : []\r\n    }\r\n  }\r\n}\r\n\r\n//类的原型\r\nconst fn = Domtify.prototype\r\n\r\n//构造函数domtify\r\nconst domtify = (selector, context) => new Domtify(selector, context)\r\n\r\n//把类原型赋值给构造函数的原型，最后再赋值给构造函数domtify的fn属性，在js中，函数也是一种特殊的对象，因此也可以拥有属性。\r\ndomtify.fn = domtify.prototype = fn\r\n\r\nexport { domtify, domtify as d, fn, Domtify }\r\n","import { fn } from '../core'\r\n\r\nfn.each = function (callback) {\r\n  this.result.forEach(function (element, index, array) {\r\n    callback.call(element, element, index, array)\r\n  })\r\n  return this\r\n}\r\n","import { fn } from '../core'\r\nimport { isArray, isFunction, isString, isElem } from '../utils'\r\n\r\nimport './each'\r\n\r\nfn.addClass = function (className) {\r\n  const list = (res) =>\r\n    isArray(res) ? res : isString(res) ? res.split(' ') : []\r\n\r\n  let classList = []\r\n\r\n  return this.each((item, index) => {\r\n    // 处理函数返回值\r\n    if (isFunction(className)) {\r\n      classList = list(\r\n        className.call(item, index, isElem(item) ? item.classList.value : item),\r\n      )\r\n    } else {\r\n      classList = list(className)\r\n    }\r\n\r\n    item?.classList?.add(...classList)\r\n  })\r\n}\r\n","import { fn } from '../core'\r\n\r\nfn.map = function (callback) {\r\n  this.result = this.result.map((element, index, array) =>\r\n    callback.call(element, element, index, array),\r\n  )\r\n  return this\r\n}\r\n","import { fn, domtify } from '../core'\r\n\r\nfn.filter = function (selector) {\r\n  //默认是选择器\r\n  let callbackFn = (index, item) => item?.matches(selector || '*')\r\n\r\n  //函数\r\n  if (typeof selector === 'function') callbackFn = selector\r\n\r\n  //domtify实例\r\n  if (selector instanceof domtify) {\r\n    callbackFn = (index, item) => selector.result.indexOf(item) !== -1\r\n  }\r\n\r\n  //element元素\r\n  if (selector instanceof Element) {\r\n    callbackFn = (index, item) => this.result.indexOf(selector) !== -1\r\n  }\r\n\r\n  //调用数组原生的filter过滤\r\n  this.result = this.result.filter((item, index) =>\r\n    callbackFn.call(item, index, item),\r\n  )\r\n\r\n  return this\r\n}\r\n","import { fn } from '../core'\r\n\r\nfn.eq = function (index) {\r\n  this.result = [this.result.at(index)]\r\n  return this\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport './eq'\r\n\r\nfn.first = function () {\r\n  return this.eq(0)\r\n}\r\n","import { fn } from '../core'\r\nimport './eq'\r\n\r\nfn.last = function () {\r\n  return this.eq(-1)\r\n}\r\n","import { fn } from '../core'\r\n\r\nfn.get = function (index) {\r\n  return Number.isInteger(index) ? this.result.at(index) : this.result\r\n}\r\n","import { Domtify } from '../core'\r\n\r\n//参数消毒\r\nconst sanitize = (args) => {\r\n  const uniqueMap = new Map()\r\n  return (Array.isArray(args) ? args : [args]) //不是数组转换成数组\r\n    .flat(Infinity)\r\n    .flatMap((item) => {\r\n      if (item instanceof Domtify) {\r\n        return item.result\r\n      }\r\n      if (item instanceof NodeList || item instanceof HTMLCollection) {\r\n        return Array.from(item)\r\n      }\r\n      return item\r\n    })\r\n    .filter((item) => {\r\n      if (item instanceof Element) {\r\n        //不允许重复的Element\r\n        if (!uniqueMap.has(item)) {\r\n          uniqueMap.set(item, true)\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n      if (item === null || typeof item === 'number') {\r\n        //null也删除\r\n        return false\r\n      }\r\n      return true\r\n    })\r\n}\r\n\r\nexport default sanitize\r\n","import { isString, isHtmlString, isFunction, isElem, createElementHTML } from '.'\r\n\r\nimport sanitize from './sanitize'\r\nimport '../ext/each'\r\n\r\n\r\nconst Default = {\r\n  //是否反转参数\r\n  reverse: false,\r\n  //是否克隆\r\n  cloneNode: true,\r\n}\r\n\r\n\r\n\r\nexport const domManip = (domtifyObj, args, callback, options) => {\r\n  //参数合并\r\n  options = {\r\n    ...Default,\r\n    ...options,\r\n  }\r\n\r\n\r\n  //参数静态化不过不这样的话，如果是HTMLCollection如果动态添加后，在遍历的时候它数组长度会改变，遍历逻辑会错乱\r\n  let firstParam = args[0]\r\n  let firstParamIsFunction = isFunction(firstParam)\r\n  let fnResult = {}\r\n\r\n\r\n  if (firstParamIsFunction) {\r\n    domtifyObj.each((item, index) => {\r\n      fnResult[index] = sanitize(firstParam.call(item, index, item.textContent))\r\n    })\r\n  }\r\n\r\n  Object.freeze(fnResult) //冻结该对象防止被更改\r\n\r\n  let flatArgs = sanitize(args)\r\n  if (options.reverse) {\r\n    flatArgs = flatArgs.reverse()\r\n  }\r\n\r\n  let last = false\r\n  return domtifyObj.each((elem, index) => {\r\n    if (firstParamIsFunction) {\r\n      flatArgs = fnResult[index] //这里就表示直接取上面函数的静态化参数了\r\n      if (options.reverse) {\r\n        flatArgs = flatArgs.reverse()\r\n      }\r\n    }\r\n\r\n    last = index === domtifyObj.length - 1 ? true : false\r\n\r\n    //参数遍历\r\n    flatArgs.forEach((item) => {\r\n      //回调的参数\r\n      let node\r\n      //1.字符串\r\n      if (isString(item)) {\r\n        if (isHtmlString(item)) {\r\n          //创建dom\r\n          //htmlString\r\n          node = createElementHTML(item)\r\n        } else {\r\n          //textNode\r\n          node = document.createTextNode(item)\r\n        }\r\n      } else if (isElem(item) || item instanceof Text) {\r\n        //如果克隆选项启用，且是最后一个才进行克隆\r\n        node = options.cloneNode && !last ? item.cloneNode(true) : item\r\n      }\r\n      //调用方法\r\n      callback.call(elem, node)\r\n    })\r\n  })\r\n}\r\n","import { fn } from '../core'\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.append = function (...args) {\r\n  return domManip(this, args, function (node) {\r\n    this.appendChild(node)\r\n  })\r\n}\r\n","import { domtify } from '../core'\r\n\r\nimport { isPlainObject } from '../utils'\r\n\r\ndomtify.extend = function () {\r\n  let options,\r\n    name,\r\n    src,\r\n    copy,\r\n    copyIsArray,\r\n    clone,\r\n    target = arguments[0] || {}, //第一个参数\r\n    i = 1,\r\n    length = arguments.length,\r\n    deep = false\r\n\r\n  // 处理深度复制情况\r\n  if (typeof target === 'boolean') {\r\n    deep = target\r\n\r\n    // 跳过布尔值和目标\r\n    target = arguments[i] || {}\r\n    i++\r\n  }\r\n\r\n  // 当目标是字符串或其他东西时处理大小写（可能在深度复制中）\r\n  if (typeof target !== 'object' && typeof target !== 'function') {\r\n    target = {}\r\n  }\r\n\r\n  // 如果只传递一个参数，则扩展jQuery本身\r\n  if (i === length) {\r\n    target = this\r\n    i--\r\n  }\r\n\r\n  for (; i < length; i++) {\r\n    // 仅处理非null/未定义的值\r\n    if ((options = arguments[i]) != null) {\r\n      // 延伸基础对象\r\n      for (name in options) {\r\n        copy = options[name]\r\n        // 防止Object.prototype污染\r\n        // 防止无休止的循环\r\n        if (name === '__proto__' || target === copy) {\r\n          continue\r\n        }\r\n\r\n        // 如果我们正在合并普通对象或数组，则重复出现\r\n        if (\r\n          deep &&\r\n          copy &&\r\n          (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))\r\n        ) {\r\n          src = target[name]\r\n\r\n          // 确保源值的类型正确\r\n          if (copyIsArray && !Array.isArray(src)) {\r\n            clone = []\r\n          } else if (!copyIsArray && !isPlainObject(src)) {\r\n            clone = {}\r\n          } else {\r\n            clone = src\r\n          }\r\n          copyIsArray = false\r\n\r\n          // 从不移动原始对象，而是克隆它们\r\n          target[name] = this.extend(deep, clone, copy)\r\n\r\n          // 不要引入未定义的值\r\n          // } else if (copy !== undefined) {\r\n        } else {\r\n          target[name] = copy\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 返回修改后的对象\r\n  return target\r\n}\r\n","import { fn } from '../core'\r\nimport './each'\r\n\r\nfn.clone = function () {\r\n  return this.map((item) => item?.cloneNode(true))\r\n}\r\n","import { fn, domtify } from '../core'\r\nimport { arrUnique } from '../utils'\r\nimport './each'\r\nimport './get'\r\n\r\nfn.add = function (selector, context) {\r\n  return domtify(\r\n    arrUnique([...this.get(), ...domtify(selector, context).get()]),\r\n  )\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport './filter'\r\n\r\nfn.is = function (selector) {\r\n  return this.filter(selector).length > 0\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.prepend = function (...args) {\r\n  return domManip(\r\n    this,\r\n    args,\r\n    function (node) {\r\n      this.insertBefore(node, this.firstChild)\r\n    },\r\n    {\r\n      reverse: true,\r\n    },\r\n  )\r\n}\r\n","import { fn } from '../core'\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.after = function (...args) {\r\n  return domManip(\r\n    this,\r\n    args,\r\n    function (node) {\r\n      if (this.parentNode) {\r\n        this.parentNode.insertBefore(node, this.nextSibling)\r\n      }\r\n    },\r\n    {\r\n      reverse: true,\r\n    },\r\n  )\r\n}\r\n","import { fn } from '../core'\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.before = function (...args) {\r\n  return domManip(\r\n    this,\r\n    args,\r\n    function (node) {\r\n      if (this.parentNode) {\r\n        this.parentNode.insertBefore(node, this)\r\n      }\r\n    },\r\n    {\r\n      reverse: true,\r\n    },\r\n  )\r\n}\r\n","import { fn } from '../core'\r\nimport { domManip } from '../utils/domManipulation'\r\n\r\nfn.replaceWith = function (...args) {\r\n  return domManip(\r\n    this,\r\n    args,\r\n    function (node) {\r\n      const parent = this.parentNode\r\n      if (parent) {\r\n        parent.replaceChild(node, this)\r\n      }\r\n    },\r\n    {\r\n      cloneNode: false,\r\n    },\r\n  )\r\n}\r\n","\nconst isNeedPx = (property) => {\n\treturn /^[a-z]/.test(property) &&\n\t\t/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/.test(property[0].toUpperCase() + property.slice(1));\n}\n\n\nexport default isNeedPx;","\r\n\r\n\r\nconst camelCase = (string) => {\r\n    return string.replace(/-([a-z])/g, (match, char) => {\r\n        return char.toUpperCase()\r\n    });\r\n}\r\n\r\nexport default camelCase;","import { fn } from '../core'\r\nimport { isString, isNumber, isFunction, isPlainObject } from '../utils/index'\r\nimport isNeedPx from '../utils/isNeedPx'\r\n\r\nimport camelCase from '../utils/camelCase'\r\n\r\n\r\n\r\n\r\n\r\nconst addPx = (property, value) => {\r\n\r\n    //数字，或者数字字符串\r\n    return ((isNumber(value) || /^\\d+$/.test(value)) && isNeedPx(camelCase(property))) ? value + 'px' : value\r\n}\r\n\r\n\r\n\r\nfn.css = function (property, value) {\r\n\r\n\r\n\r\n    //设置\r\n    if (isString(value) || isNumber(value)) {\r\n\r\n        return this.each((elem) => {\r\n\r\n            elem.style[property] = addPx(property, value);\r\n        })\r\n\r\n    }\r\n\r\n\r\n    //设置\r\n    if (isFunction(value)) {\r\n\r\n        return this.each((elem, index) => {\r\n            const oldValue = getComputedStyle(elem).getPropertyValue(property)\r\n            elem.style[property] = addPx(property, value.call(elem, index, oldValue))\r\n        })\r\n\r\n    }\r\n\r\n\r\n    //设置\r\n    if (isPlainObject(property)) {\r\n\r\n        return this.each((elem) => {\r\n\r\n            for (const [key, value] of Object.entries(property)) {\r\n\r\n                elem.style[key] = addPx(key, value);\r\n\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n}\r\n","import '../ext/each'\r\n\r\n\r\n\r\nconst selectSibling = (domtifyObj, direction) => {\r\n\r\n    let matched = [];\r\n\r\n    let prop = direction + \"ElementSibling\"\r\n\r\n    domtifyObj.each((elem) => {\r\n\r\n        let el = elem[prop]\r\n        if (el) {\r\n            matched.push(el)\r\n        }\r\n    })\r\n\r\n    return matched;\r\n\r\n\r\n}\r\n\r\nexport default selectSibling;","import { domtify } from '../core'\r\n\r\n\r\nimport { arrUnique } from '.';\r\n\r\nimport '../ext/filter'\r\nimport '../ext/get'\r\n\r\n\r\nconst traverseFilter = (arr, selector) => {\r\n\r\n    let matched = arr;\r\n\r\n\r\n    //选择器过滤\r\n    if (selector && typeof selector === \"string\") {\r\n\r\n        matched = domtify(matched).filter(selector).get();\r\n\r\n    }\r\n\r\n    //去重\r\n    if (matched.length > 1) {\r\n\r\n        matched = arrUnique(matched);\r\n    }\r\n\r\n    return domtify(matched)\r\n}\r\n\r\nexport default traverseFilter;\r\n\r\n","import { fn } from '../core'\r\n\r\nimport selectSibling from '../utils/selectSibling'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\nfn.next = function (selector) {\r\n    return traverseFilter(selectSibling(this, 'next'), selector);\r\n}\r\n\r\n\r\n","import { domtify } from '../core'\n\n\nimport '../ext/is'\nimport '../ext/each'\n\n\n\nconst selectElementsByProp = (domtifyObj, prop, until) => {\n\n\tlet matched = [];\n\n\tdomtifyObj.each(elem => {\n\n\t\twhile ((elem = elem[prop]) && elem.nodeType !== 9) {\n\n\t\t\tif (elem.nodeType === 1) {//1:表示是一个element元素https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeType#node.element_node\n\n\t\t\t\tif (until && domtify(elem).is(until)) break;\n\n\t\t\t\tmatched.push(elem);\n\n\t\t\t}\n\t\t}\n\t})\n\n\treturn matched;\n\n}\n\nexport default selectElementsByProp;\n\n","import { fn } from '../core'\r\nimport selectElementsByProp from '../utils/selectElementsByProp'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\n\r\nfn.nextAll = function (selector) {\r\n\r\n\r\n  return traverseFilter(selectElementsByProp(this, \"nextSibling\"), selector)\r\n\r\n\r\n}\r\n","import { fn } from '../core'\r\nimport selectElementsByProp from '../utils/selectElementsByProp'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\n\r\nfn.nextUntil = function (selector, filter) {\r\n\r\n    return traverseFilter(selectElementsByProp(this, \"nextSibling\", selector), filter)\r\n\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport selectElementsByProp from '../utils/selectElementsByProp'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\nfn.parents = function (selector) {\r\n\r\n    return traverseFilter(selectElementsByProp(this, 'parentNode'), selector)\r\n\r\n\r\n\r\n}\r\n","import { fn } from '../core'\r\n\r\nimport selectElementsByProp from '../utils/selectElementsByProp'\r\nimport traverseFilter from '../utils/traverseFilter';\r\n\r\n\r\nfn.parentsUntil = function (selector, filter) {\r\n\r\n    return traverseFilter(selectElementsByProp(this, 'parentNode', selector), filter)\r\n\r\n}\r\n"],"names":["isElem","el","Element","isPlainObject","obj","Array","prototype","Object","getPrototypeOf","isString","value","isNumber","isHtmlString","str","trim","startsWith","isFunction","isArray","isInstance","cls","arrUnique","arr","Set","createElementHTML","htmlStr","div","document","createElement","innerHTML","firstElementChild","Domtify","length","result","constructor","selector","context","insertAdjacentHTML","firstChild","from","querySelectorAll","NodeList","HTMLCollection","fn","domtify","each","callback","forEach","element","index","array","call","addClass","className","list","res","split","classList","item","_item$classList","add","map","filter","callbackFn","matches","indexOf","eq","at","first","last","get","Number","isInteger","sanitize","args","uniqueMap","Map","flat","Infinity","flatMap","has","set","Default","reverse","cloneNode","domManip","domtifyObj","options","firstParam","firstParamIsFunction","fnResult","textContent","freeze","flatArgs","elem","node","createTextNode","Text","append","appendChild","extend","name","src","copy","copyIsArray","clone","target","arguments","i","deep","is","prepend","insertBefore","after","parentNode","nextSibling","before","replaceWith","parent","replaceChild","isNeedPx","property","test","toUpperCase","slice","camelCase","string","replace","match","char","addPx","css","style","oldValue","getComputedStyle","getPropertyValue","key","entries","selectSibling","direction","matched","prop","push","traverseFilter","next","selectElementsByProp","until","nodeType","nextAll","nextUntil","parents","parentsUntil"],"mappings":"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"}